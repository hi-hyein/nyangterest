# 요즘 재미붙인 작업

## 1.jekyll 텝플릿을 사용하여 깃헙 블로그 만들기

### jekyll이란?

> Jekyll 은 아주 심플하고 블로그 지향적인 정적 사이트 생성기입니다.
> 
> 텍스트(마크다운) 파일로 컨텐츠를 작성하고, 폴더로 그 파일들을 정리합니다. 다음, Liquid 기능이 추가된 HTML 템플릿을 사용해 사이트의 모양을 만듭니다. Jekyll 은 자동으로 내용물과 템플릿들을 함께 합쳐서, 어떤 서버에서도 올바르게 작동하는, 완전한 정적 웹사이트를 생성합니다.
>
>Jekyll 은 GitHub Pages 의 내부 엔진이기 때문에, 당신의 프로젝트에 있는 Jekyll 페이지/블로그/웹사이트를 GitHub 서버에 무료로 호스팅 할 수 있습니다.

이라고 jekyll 사이트에 기술되어있다.
`폴더구조`와 `markdown`,`html`을 이용해서 `liquid언어로 만드는 블로그 템플릿이다.

### 처음 알게된 것들

### Ruby
이름은 들어봤지만 직접적인 코드는 처음 봤다. 들여쓰기도 자유롭고 줄바꿈으로도 코드가 구분이 되고 굉장히 깨끗해보인다.


#### 1. Liquid
- Shopify에 의해 개발되고 Ruby로 작성된 오픈소스 템플릿 언어이다.
- 2006년 6월부터 웹페이지에 동적인 컨텐츠를 로드(load)하는 Shopify의 백본(backbone)으로 기능하고 있다.
- html, markdown 파일에서 해석되고 처리된다.

#### 2. GEM
Ruby에서 사용되는 패키지

- **Bundler**
    - gem의 의존성관리를 해주는 의존성관리 도구

- **Gemfile**
  - rails로 프로젝트를 만들었을때 최상위루트에 생기는 파일
  - 의존성프로그램들을 기술
  - node의 package.json과 같은 개념 같다.

### .bashrc

맥에는 시스템 ruby가 설치되어있었는데 이 시스템 ruby로는 jekyll을 사용할 수 없어 homebrew로 rbenv(버전관리시스템같음)를 설치하고 최신 버전의 ruby를 설치하였다.
그리고 .bashrc파일을 만들어 아래 내용을 입력 하여 저장하였다.
```
[[ -d ~/.rbenv  ]] && \
  export PATH=${HOME}/.rbenv/bin:${PATH} && \
  eval "$(rbenv init -)"
```
그리고 아래 명령어를 치면 jekyll을 사용 할 수 있다.
```
source ~/.bashrc
```
사실 이 부분이 제일 이해가 안되는 부분이다..
.bashrc, .bash_profile, .profile 등 여러 파일이 있는데
뭔가 환경변수를 설정하는 파일같고 source를 통해 파일을 불러들ㅇ이는 것 같다.
어떤건 로그인 shell에서 쓰이는거고..언제 호출되고.. 등.. 
좀 더 생각해봐야겠다..
터미널에서 jekyll을 쓰려면 항상 `source ~/.bashrc`를 쳐서 사용했는데,
.bashrc는 새로운 터미널일때마다 쳐줘야되는 파일인 것 같다.
새로운 터미널을 열때마다 쳐주는건 뭔가 효율성이 떨이지는 것 같다.
분명 고정시키는 법이 있을 것

### 작업중 문제
나는 포트폴리오 게시물 목록과 일반 게시물 목록을 각각 별도의 페이지로 나누고싶었다.
내가 받아온 테마는 나눠지지 않고 하나의 게시물 목록 페이지만 갖고 있었다.
두개이상의 목록 페이지를 갖고있는 테마를 가져와도 됐지만 직접 셋팅해서 어떻게 돌아가고(?)있는지를 확인하고 싶었다.

기존에는 `_post`폴더에 있는 `md`파일들을 게시물로 가져와 목록을 만들어 노출시키는 포스트 리스트페이지가 하나 있었다. 나는 이 페이지를 하나 더 만들고 싶었고 별도의 `portfolio`라는 폴더를 만들어 그 안에 게시물들을 `md`파일로 작성하여 목록으로 노출시키고 싶었다.

#### 첫번째 방법
post는 category를 가질 수 있다. 즉 게시물들은 대분류에서 하위분류로 나눠질 수 있다.
하나의 `_post`폴더에서 `md`파일에 각각 두타입의 다른 카테고리를 지정해주고 nav메뉴를 추가하여 각각의 nav메뉴에 카테고리 url을 연결시켜주었다.
메뉴는 두개로 나누어졌지만 `_post`폴더에서 게시물이 될 `md`파일들을 모두 관리해야된다는 점이 만족스럽지 못했다.

#### 두번째 방법
jekyll에 있는 `collections` API를 사용하기로 했다.
기본적으로 사용되는 post말고 새로운 종류의 문서들를 정의할 수 있는 방법이다.
`_config.yml`파일에 아래에 내용을 추가하고 `my_collection`부분은 내가 정의한 폴더 이름으로 변경한다.
```
collections:
- my_collection
```
그리고 최상위루트에 `_my_collection`폴더를 만들어주고 그 안에 `md`파일들을 넣어두었다.
`_my_collection`의 파일들에 대한 접근은 아래코드처럼 하면 된다.

```ruby
{% for item in site.my_collection %}
  <h2>{{ item.title }}</h2>
  <p>{{ item.description }}</p>
  <p><a href="{{ item.url }}">{{ item.title }}</a></p>
{% endfor %}
```
두번째 방법으로 폴더도 별도로 관리할 수 있고 분류도 나눌 수 있어 만족하는 결과를 얻을 수 있었다.

왜인지는 모르겠지만 오랜만에 재미를 갖고 공부하며 작업한 것 같다.(그동안 재미없었단건아님!)
아직도 왜 재밌었는지 이유가 너무 궁금하다....
